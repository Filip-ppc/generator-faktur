<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generátor faktury</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

    <h1>Generátor faktury</h1>

    <form id="invoiceForm">
        <label for="companyName">Název společnosti:</label><br>
        <input type="text" id="companyName" name="companyName"><br><br>

        <label for="ico">IČO:</label><br>
        <input type="text" id="ico" name="ico"><br><br>

        <label for="item">Název položky:</label><br>
        <input type="text" id="item" name="item"><br><br>

        <label for="amount">Částka (CZK):</label><br>
        <input type="number" id="amount" name="amount"><br><br>

        <label for="date">Datum:</label><br>
        <input type="date" id="date" name="date"><br><br>

        <button type="button" onclick="generateInvoice()">Vytvořit fakturu</button>
    </form>

    <hr>

    <h2>Faktura</h2>
    <div id="invoicePreview">
        <!-- Zde se bude generovat náhled faktury -->
    </div>

    <script>
        function generateInvoice() {
            const { jsPDF } = window.jspdf;

            // Načítání údajů z formuláře
            const companyName = document.getElementById("companyName").value;
            const ico = document.getElementById("ico").value;
            const item = document.getElementById("item").value;
            const amount = document.getElementById("amount").value;
            const date = document.getElementById("date").value;

            // Generování náhledové faktury
            const invoicePreview = document.getElementById("invoicePreview");
            invoicePreview.innerHTML = `
                <strong>Faktura</strong><br>
                <strong>Společnost:</strong> ${companyName} (${ico})<br>
                <strong>Datum:</strong> ${date}<br><br>
                <strong>Položka:</strong> ${item}<br>
                <strong>Částka:</strong> ${amount} CZK<br><br>
                <button onclick="downloadPDF('${companyName}', '${ico}', '${item}', '${amount}', '${date}')">Stáhnout fakturu jako PDF</button>
            `;
        }

        function downloadPDF(companyName, ico, item, amount, date) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Přidání obsahu do PDF
            doc.text('Faktura', 20, 20);
            doc.text(`Společnost: ${companyName} (${ico})`, 20, 30);
            doc.text(`Datum: ${date}`, 20, 40);
            doc.text(`Položka: ${item}`, 20, 50);
            doc.text(`Částka: ${amount} CZK`, 20, 60);

            // Uložení PDF souboru
            doc.save(`faktura-${companyName}.pdf`);
        }
    </script>

</body>
</html>
